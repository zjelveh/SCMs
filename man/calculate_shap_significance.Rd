% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_spec_curve.R
\name{calculate_shap_significance}
\alias{calculate_shap_significance}
\title{Calculate Statistical Significance of SHAP Values}
\usage{
calculate_shap_significance(
  shap_data,
  treated_unit_name,
  pvalue_method = "absolute"
)
}
\arguments{
\item{shap_data}{Data.table. SHAP values for multiple units with columns: unit, full_spec_id,
feature_group, feature, shapley_value}

\item{treated_unit_name}{Character. Name of the treated unit}

\item{pvalue_method}{Character. Method for calculating p-values: "absolute" or "signed".
\itemize{
\item "absolute": Ranks based on absolute SHAP values.
\item "signed": Ranks based on signed SHAP values, distinguishing positive and negative importance.
}}
}
\value{
Data.table with columns: full_spec_id, feature_group, shap_pvalue, shap_rank,
total_units, shap_significance_level
}
\description{
Performs placebo-style inference on SHAP values by ranking the treated unit's
feature importance against control units for each specification and feature group.
}
\details{
Calculate SHAP Significance via Placebo Inference

For each specification x feature_group combination:
\itemize{
\item Extracts relevant SHAP values for all units
\item Ranks units based on the chosen pvalue_method ("absolute" or "signed")
\item Calculates p-value based on treated unit's rank position
\item Assigns significance levels for visualization mapping
}
}
