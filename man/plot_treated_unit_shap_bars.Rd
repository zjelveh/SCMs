% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/visualization_advanced.R
\name{plot_treated_unit_shap_bars}
\alias{plot_treated_unit_shap_bars}
\title{Signed SHAP Values for Treated Unit}
\usage{
plot_treated_unit_shap_bars(
  plot_spec_curve_result,
  title = NULL,
  top_n = NULL,
  color_by = "feature_group"
)
}
\arguments{
\item{plot_spec_curve_result}{List. Result object from \code{plot_spec_curve()} call.
Must contain \code{plot_data_p2} element with SHAP data.}

\item{title}{Character or NULL. Plot title. If NULL, generates automatic title.}

\item{top_n}{Integer or NULL. Number of top features to display (ranked by absolute impact). If NULL, shows all.}

\item{color_by}{Character. Coloring scheme: "feature_group" (default) or "magnitude".
\itemize{
\item "feature_group": Different color for each specification dimension
\item "magnitude": Red-blue gradient based on signed SHAP values
}}
}
\value{
ggplot2 object with horizontal bar chart showing signed SHAP values.
}
\description{
Creates a horizontal bar chart displaying signed SHAP values
for specification features. Shows the directional impact of each feature
on treatment effect estimates. Features are grouped by specification dimension
(software package, V-weights, bias correction, etc.).
}
\details{
SHAP Bar Plot for Treated Unit
}
\examples{
\dontrun{
# Run specification curve with SHAP analysis
spec_result <- plot_spec_curve(data, name_treated_unit = "Philadelphia", show_shap = TRUE)

# Signed SHAP values (default)
p1 <- plot_treated_unit_shap_bars(spec_result)

# Top 10 features with magnitude coloring
p2 <- plot_treated_unit_shap_bars(spec_result, top_n = 10, color_by = "magnitude")

# Custom title
p3 <- plot_treated_unit_shap_bars(spec_result, title = "Feature Impact Analysis")
}
}
