% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/spec_curve_analysis.R
\name{run_spec_curve_analysis}
\alias{run_spec_curve_analysis}
\title{Run Specification Curve Analysis with Multiple Configurations}
\usage{
run_spec_curve_analysis(
  dataset,
  outcomes = NULL,
  params,
  output_dir = NULL,
  inference_type = "placebo",
  inference_config = list()
)
}
\arguments{
\item{dataset}{Data frame containing the panel data for analysis.}

\item{outcomes}{Character vector of outcome variable names. If NULL, uses outcomes from params.}

\item{params}{List containing analysis parameters including:
\itemize{
\item \code{outcomes} - Character vector of outcome variables
\item \code{col_name_unit_name} - Column name for unit identifiers
\item \code{name_treated_unit} - Name of treated unit
\item \code{covagg} - List of covariate specifications
\item \code{treated_period} - Treatment start period
\item \code{min_period} - Minimum period for analysis
\item \code{end_period} - Maximum period for analysis
\item \code{col_name_period} - Column name for time periods
\item \code{feature_weights} - Feature weighting methods
\item \code{donor_sample} - Donor sample selection methods
\item \code{outcome_models} - Outcome modeling approaches
\item \code{constraints} - Weight constraint specifications
}}

\item{output_dir}{Character. Directory to save results. If NULL, results are not saved.}

\item{inference_type}{Character. Type of inference to perform: "placebo" (default), "bootstrap", or "all".
\itemize{
\item "placebo": Traditional placebo-based inference using control units
\item "bootstrap": Bootstrap null hypothesis testing with unit-level resampling
\item "all": Both placebo and bootstrap inference (for comparison)
}}

\item{inference_config}{List. Configuration for inference methods. Can include:
\itemize{
\item \code{bootstrap_n_replications} - Number of bootstrap replications (default: 1000)
\item \code{bootstrap_cores} - Cores for bootstrap processing (default: 1)
\item \code{placebo_cores} - Cores for placebo processing (default: 1)
\item \code{verbose} - Verbose inference output (default: FALSE)
}}
}
\value{
Data.table in long format containing specification curve results with inference measures.
}
\description{
Performs specification curve analysis across multiple modeling choices
and configurations, providing a systematic exploration of researcher degrees of freedom.
}
\details{
Run Comprehensive Specification Curve Analysis
}
\examples{
\dontrun{
# Create analysis configuration
params <- list(
  outcomes = "gdp",
  col_name_unit_name = "country",
  name_treated_unit = "West Germany",
  covagg = list(
    gdp_avg = list(var = "gdp", average = "full_pre")
  ),
  treated_period = 1990,
  min_period = 1975,
  end_period = 2003,
  col_name_period = "year",
  feature_weights = c("uniform"),
  donor_sample = c("all", "most_similar"),
  outcome_models = c("none", "lasso"),
  constraints = list(list(name = "simplex"))
)

# Run analysis with placebo inference (default)
results_placebo <- run_spec_curve_analysis(dataset, params = params)

# Run bootstrap inference only 
results_bootstrap <- run_spec_curve_analysis(
  dataset, 
  params = params,
  inference_type = "bootstrap",
  inference_config = list(
    bootstrap_n_replications = 1000,
    bootstrap_cores = 4
  )
)

# Run both inference methods for comparison
results_both <- run_spec_curve_analysis(
  dataset,
  params = params, 
  inference_type = "all",
  inference_config = list(
    bootstrap_n_replications = 500,  # Fewer for speed when running both
    bootstrap_cores = 2,
    placebo_cores = 1
  )
)
}
}
